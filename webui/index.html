<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Octo Bed Control</title>
    <link rel="stylesheet" href="static/styles.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
    <div class="main-container">
        <header>
            <h1><i class="material-icons">bed</i> Octo Bed Control</h1>
            <div class="tab-selector">
                <button class="tab-button active" onclick="showTab('device-scan')">Device Scan</button>
                <button class="tab-button" onclick="showTab('configuration')">Configuration</button>
            </div>
        </header>

        <div id="device-scan" class="tab-content">
            <div class="card">
                <h2>Discover Devices</h2>
                <button id="scan-beds" class="action-button" onclick="startScan()">
                    <i class="material-icons">bluetooth_searching</i> Scan for Beds
                </button>
                <p id="discovery-status"></p>
            </div>

            <div id="discovered-devices" class="card" style="display: none;">
                <h2>Available Devices</h2>
                <div id="devices-container"></div>
            </div>

            <div id="configured-devices" class="card">
                <h2>Configured Devices</h2>
                <div id="configured-devices-loading">Loading...</div>
                <div id="configured-devices-empty" style="display: none;">
                    <p>No devices configured yet. Use the scan function above to find and add devices.</p>
                </div>
                <div id="configured-devices-list" style="display: none;">
                    <div id="configured-devices-items"></div>
                </div>
            </div>
        </div>

        <div id="configuration" class="tab-content" style="display: none;">
            <div class="card">
                <h2>BLE Proxy Configuration</h2>
                <div id="ble-proxy-config">
                    <p>Loading configuration...</p>
                </div>
                <div id="config-result"></div>
            </div>
        </div>
    </div>

    <div id="pin-dialog" class="modal" style="display: none;">
        <div class="modal-content">
            <h3>Enter PIN Code</h3>
            <p>Please enter the 4-digit PIN code for device: <span class="device-name-in-dialog"></span></p>
            <input type="number" id="pin-input" pattern="[0-9]*" inputmode="numeric" maxlength="4" placeholder="Enter 4-digit PIN">
            <div class="button-group">
                <button onclick="submitPin()" class="action-button">Add Device</button>
                <button onclick="hidePinDialog()" class="control-button">Cancel</button>
            </div>
        </div>
    </div>

    <div id="loading-overlay" class="modal" style="display: none;">
        <div class="loading-spinner"></div>
        <div id="loading-message">Loading...</div>
    </div>

    <script src="static/app.js"></script>
</body>
</html> 